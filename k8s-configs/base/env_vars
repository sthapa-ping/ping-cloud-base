############################################################
# Multi-region parameters
############################################################
IS_MULTI_CLUSTER=false

# Primary region name - must be a valid AWS region name
# Primary region should have the same value for REGION and PRIMARY_REGION
PRIMARY_REGION=us-east-2

# Tenant domain suffix for customer for region
# Primary region should have the same value for TENANT_DOMAIN and PRIMARY_TENANT_DOMAIN
PRIMARY_TENANT_DOMAIN=mulloway1.us1.ping-preview.cloud

# Optional comma-separated list of the tenant domain suffixes of secondary regions used for
# PingFederate adaptive clustering using the JGroups DNS_PING discovery protocol:
#
#   - Do NOT include the primary tenant domain in the list
#   - Do NOT include the CDE prefix in the domain name
#
# For example, if the primary domain is "tuna.us1.ping-preview.cloud", then set it
# to "tuna.eu1.ping-preview.cloud,tuna.au1.ping-preview.cloud" to specify secondary
# domains in regions eu1 and au1.
#
# NOTES:
#   - Only used in multi-cluster environments. If provided, PF will be configured with DNS_PING.
#   - It is recommended that SECONDARY_TENANT_DOMAINS be set apriori, even before the
#     secondary regions are created to avoid pod rollouts. DNS_PING will simply ignore
#     unreachable domains. If it is not set beforehand, then all servers in the PF
#     cluster (admin and engines) must be re-rolled to pick up the change.
SECONDARY_TENANT_DOMAINS=""

# Region-independent URL used for DNS failover/routing
GLOBAL_TENANT_DOMAIN=global.mulloway1.ping-preview.cloud

############################################################
# S3 buckets
############################################################
# Ping-hosted common artifacts URL
PING_ARTIFACT_REPO_URL=https://ping-artifacts.s3-us-west-2.amazonaws.com

# Customer-specific log and backup URLs for region
LOG_ARCHIVE_URL=ssm://pcpt/service/storage/logs/uri
BACKUP_URL=ssm://pcpt/service/storage/backup/uri
PGO_BACKUP_BUCKET_NAME=surajthapa-primary-backup-archives-bucket

############################################################
# Platform event queue and SSM variables
############################################################
PLATFORM_EVENT_QUEUE_NAME=v2_platform_event_queue.fifo
PLATFORM_EVENT_QUEUE_POLL_BATCH_SIZE=1
PLATFORM_EVENT_QUEUE_POLL_INTERVAL_SECONDS=2
ORCH_API_SSM_PATH_PREFIX=/pcpt/orch-api
SERVICE_SSM_PATH_PREFIX=/pcpt/service

############################################################
# Cluster state repo details
############################################################
# The known-hosts file to trust the cluster state repo server for git/ssh cloning
KNOWN_HOSTS_CLUSTER_STATE_REPO="|1|jdigV1dqpdayX1I7Z1dbr7GY49s=|1acUGQHUFxLztfMVH4u9avPqGK8= ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCNbmnXfe621xtVMkrwOqf6QNIlnOKkQ01KoM6gKC4nv5T08hbGcGp6iYplGLKMLlki+auO1J3JTA3qAKDobZR1wDqtW9LC2k46GHV4YigUpd6D+YdranJqbxpGOuNd6c1EP50vQnlW9MxZYExyrZKT0UfOJAydQLoWPuSioyHk3zAltSIrCxczP3jxAhuoq++eUrdC5uF6UMNJC10eBA9XglAe2oRLzApoStyCAiKVnoBndU2NpJWqNw0K5qfEUx2vyQFfHNRAwNNRDFtkdE9ho255YECTO07Zg37QCZ+hV5VAoFRu5CHSXqVZc5YN1YXkZ8SVHyBX7krO80QaaDor"

CLUSTER_STATE_REPO_URL=https://github.com/sura8257/ping-cloud-base
CLUSTER_STATE_REPO_BRANCH=stage

# The application reconciliation timeout in seconds for ArgoCD, i.e. how frequently ArgoCD should poll the
# cluster-state-repo for changes. To disable reconciliation set it to 0.
APP_RESYNC_SECONDS=60

############################################################
# Miscellaneous ping-cloud-base variables
############################################################
# Namespace where Ping apps are deployed
PING_CLOUD_NAMESPACE=ping-cloud

# The ping-cloud-base git URL and branch for base Kubernetes manifests
K8S_GIT_URL=https://github.com/sura8257/ping-cloud-base
K8S_GIT_BRANCH=pdo-3541-cipher

# The name of the Docker image registry
ECR_REGISTRY_NAME=public.ecr.aws/r2h3l6e4

# The tenant or customer name
TENANT_NAME=mulloway1

############################################################
# Server profile variables
############################################################
SERVER_PROFILE_URL=https://github.com/sura8257/profile-repo
SERVER_PROFILE_BRANCH=pdo-4543-irsa

############################################################
# Environment-specific variables
############################################################
# Used by server profile hooks
ENVIRONMENT_TYPE=stage

# Used by Kubernetes manifests
ENV=stage
KUSTOMIZE_BASE=prod/small

# Current app logs destination (True = CW, False = ELK)
LEGACY_LOGGING=False

############################################################
# Lets Encrypt server
############################################################
LETS_ENCRYPT_SERVER=https://acme-staging-v02.api.letsencrypt.org/directory

############################################################
# PingCommon environment variables
############################################################
USER_BASE_DN=dc=example,dc=com
ECR_ENV=/dev

############################################################
# PingFederate variables for environment
############################################################
PF_PD_BIND_PORT=1389
PF_PD_BIND_PROTOCOL=ldap
PF_PD_BIND_USESSL=false

PF_MIN_HEAP=3072m
PF_MAX_HEAP=3072m
PF_MIN_YGEN=1536m
PF_MAX_YGEN=1536m

# This variable's value will make it onto the branding for the PF admin console and
# will include the name of the environment and the region where it's deployed.
PF_ADMIN_CONSOLE_ENVIRONMENT=stage-us-east-2

############################################################
# PingAccess variables for environment
############################################################
PA_WAS_MIN_HEAP=2048m
PA_WAS_MAX_HEAP=2048m
PA_WAS_MIN_YGEN=1024m
PA_WAS_MAX_YGEN=1024m
PA_WAS_GCOPTION=-XX:+UseParallelGC

PA_MIN_HEAP=1024m
PA_MAX_HEAP=1024m
PA_MIN_YGEN=512m
PA_MAX_YGEN=512m
PA_GCOPTION=-XX:+UseParallelGC

############################################################
# DevOps License environment variables
############################################################
PING_IDENTITY_DEVOPS_USER=ssm://pcpt/devops-license/user
PING_IDENTITY_DEVOPS_KEY=ssm://pcpt/devops-license/key

############################################################
# Ping application image tags
############################################################
PINGACCESS_IMAGE_TAG=v1.17-release-branch-latest
PINGACCESS_WAS_IMAGE_TAG=v1.17-release-branch-latest
PINGFEDERATE_IMAGE_TAG=v1.17-release-branch-latest
PINGDIRECTORY_IMAGE_TAG=v1.17-release-branch-latest
PINGDELEGATOR_IMAGE_TAG=v1.17-release-branch-latest
PINGCENTRAL_IMAGE_TAG=v1.17-release-branch-latest
PINGDATASYNC_IMAGE_TAG=v1.17-release-branch-latest

############################################################
# Ping solution image tags
############################################################
METADATA_IMAGE_TAG=v1.17-release-branch-latest
BOOTSTRAP_IMAGE_TAG=v1.17-release-branch-latest
HEALTHCHECK_IMAGE_TAG=v1.17-release-branch-latest
P14C_INTEGRATION_IMAGE_TAG=v1.17-release-branch-latest
ANSIBLE_BELUGA_IMAGE_TAG=v1.17-release-branch-latest

############################################################
# Cluster name variables
############################################################
CLUSTER_NAME=mulloway1
CLUSTER_NAME_LC=mulloway1

############################################################
# Primary DNS zone
############################################################
PRIMARY_DNS_ZONE=mulloway1.us1.ping-preview.cloud

############################################################
# Public hostnames
############################################################
# Ping admin configuration required for admin access and clustering
PD_PRIMARY_PUBLIC_HOSTNAME=pingdirectory-admin.${PRIMARY_TENANT_DOMAIN}
PF_ADMIN_PUBLIC_HOSTNAME=pingfederate-admin.${PRIMARY_TENANT_DOMAIN}
PF_ADMIN_API_PUBLIC_HOSTNAME=pingfederate-admin-api.${PRIMARY_TENANT_DOMAIN}
PA_ADMIN_PUBLIC_HOSTNAME=pingaccess-admin.${PRIMARY_TENANT_DOMAIN}
PA_ADMIN_API_PUBLIC_HOSTNAME=pingaccess-admin-api.${PRIMARY_TENANT_DOMAIN}
PA_WAS_ADMIN_PUBLIC_HOSTNAME=pingaccess-was-admin.${PRIMARY_TENANT_DOMAIN}
PC_ADMIN_PUBLIC_HOSTNAME=pingcentral-admin.${PRIMARY_TENANT_DOMAIN}
PC_ADMIN_PRIVATE_SITE_HOSTNAME=pingcentral.mulloway1.us1.ping-preview.cloud

PD_CLUSTER_PUBLIC_HOSTNAME=pingdirectory-cluster.${PRIMARY_TENANT_DOMAIN}
PF_CLUSTER_PUBLIC_HOSTNAME=pingfederate-cluster.${PRIMARY_TENANT_DOMAIN}
PA_CLUSTER_PUBLIC_HOSTNAME=pingaccess-cluster.${PRIMARY_TENANT_DOMAIN}
PA_WAS_CLUSTER_PUBLIC_HOSTNAME=pingaccess-was-cluster.${PRIMARY_TENANT_DOMAIN}

# Ping engine hostname variables
PD_PUBLIC_HOSTNAME=pingdirectory-admin.${TENANT_DOMAIN}
PD_HTTP_PUBLIC_HOSTNAME=pingdirectory.${TENANT_DOMAIN}
PD_DELEGATOR_PUBLIC_HOSTNAME=pingdelegator.${TENANT_DOMAIN}
PD_DELEGATOR_PUBLIC_PORT=443
PF_ENGINE_PUBLIC_HOSTNAME=pingfederate.${TENANT_DOMAIN}
PA_ENGINE_PUBLIC_HOSTNAME=pingaccess.${TENANT_DOMAIN}
PA_WAS_ENGINE_PUBLIC_HOSTNAME=pingaccess-was.${TENANT_DOMAIN}

PROMETHEUS_PUBLIC_HOSTNAME=prometheus.${TENANT_DOMAIN}
GRAFANA_PUBLIC_HOSTNAME=monitoring.${TENANT_DOMAIN}
KIBANA_PUBLIC_HOSTNAME=logs.${TENANT_DOMAIN}
ARGOCD_PUBLIC_HOSTNAME=argocd.${TENANT_DOMAIN}

HEALTHCHECK_HTTPBIN_PA_WAS_PUBLIC_HOSTNAME=healthcheck-httpbin-pa-was.${TENANT_DOMAIN}

# Retention time for Prometheus. Could be set in years(y), weeks(w), days(d), hours(h), minutes(m) or seconds(s)
PROMETHEUS_RETENTION_TIME=15d

# Commands and schedules to obtain users count. Values should be in single quotes. Schedules should be in cron format. Command should return only numeric value(int\float)
PROMETHEUS_USER_COUNT_1_COMMAND='echo 0'
PROMETHEUS_USER_COUNT_1_SCHEDULE='* * * * *'
PROMETHEUS_USER_COUNT_2_COMMAND='echo 0'
PROMETHEUS_USER_COUNT_2_SCHEDULE='* * * * *'
PROMETHEUS_USER_COUNT_3_COMMAND='echo 0'
PROMETHEUS_USER_COUNT_3_SCHEDULE='* * * * *'
PROMETHEUS_USER_COUNT_4_COMMAND='echo 0'
PROMETHEUS_USER_COUNT_4_SCHEDULE='* * * * *'

# Variable to have ping-cloud namespace in prometheus-job-exporter
PROMETHEUS_PING_NAMESPACE=ping-cloud

#### FEATURE FLAGS #####################################################################################################
# Set to true to enable, most are disabled by default
# Please follow runbook instructions for the given feature flag to enable/disable

# !!! Provisioning for PingFederate is not yet available for multi-region customers !!!
# Runbook: https://confluence.pingidentity.com/display/PingCloud/How+to+Enable+and+Configure+PingFederate+Provisioning
PF_PROVISIONING_ENABLED=false

RADIUS_PROXY_ENABLED=false
########################################################################################################################

# Default argo-events notification configuration
NOTIFICATION_ENABLED=false
SLACK_CHANNEL=nowhere
NOTIFICATION_ENDPOINT=http://webhook-eventsource-svc.argo-events:12999/notification

# Prometheus argo-events notification configuration
PROM_NOTIFICATION_ENABLED=true
PROM_SLACK_CHANNEL=nowhere

# Variables used by argocd-image-updater to automatically update the container images managed by ArgoCD
IMAGE_TAG_PREFIX=pdo-4543-irsa
IMAGE_LIST="apps=public.ecr.aws/r2h3l6e4/pingcloud-apps/pingfederate,apps=public.ecr.aws/r2h3l6e4/pingcloud-apps/pingaccess,apps=public.ecr.aws/r2h3l6e4/pingcloud-apps/pingaccess-was"

# Dashboards repo variables
DASH_REPO_URL=https://github.com/pingidentity/ping-cloud-dashboards
DASH_REPO_BRANCH=v1.17-dev-branch
IS_BELUGA_ENV=true
